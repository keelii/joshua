{% extends "layout.njk" %}

{% block body %}

{% set active = 'components' %}
{% include "nav.njk" %}


{% macro message(content, type='', close=false, more=true) %}
    <span class="message {{ type }}" {% if close %}data-action="remove"{% endif %}>{{ content }}
    {% if more %} <a href="#none">More</a> {% endif %}
    {% if close %}<ins data-trigger></ins>{% endif %}
    </span>
{% endmacro %}

{% macro toast(content, pos) %}
    <div class="toast {{ pos }} show" data-action="removeClass show,delay 200 remove">
        <span class="message" data-trigger>{{ content }}</span>
    </div>
{% endmacro %}

<fieldset>
    <legend>Message</legend>
    <div class="row">
        <div class="col-1-2">
            <p>
                {{ message(loremText) }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'success') }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'warning') }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'info') }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'error') }}
            </p>
        </div>
        <div class="col-1-2">
            <p>
                {{ message(loremText, close=true) }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'success', close=true) }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'warning', close=true) }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'info', close=true) }}
            </p>
            <p>
                {{ message('Hello, This is a message component.', 'error', close=true) }}
            </p>
        </div>

    </div>
</fieldset>

<fieldset>
    <legend>Messages(.full-width)</legend>
    <p>
        {{ message(loremText, 'full-width', close=true) }}
    </p>
    <p>
        {{ message('Hello, This is a message component.', 'full-width success') }}
    </p>
    <p>
        {{ message('Hello, This is a message component.', 'full-width warning') }}
    </p>
    <p>
        {{ message('Hello, This is a message component.', 'full-width info') }}
    </p>
    <p>
        {{ message('Hello, This is a message component.', 'full-width error') }}
    </p>
</fieldset>

<fieldset style="position: relative; min-height: 40em;">
    <legend>Messages</legend>
    <ul class="messages">
        <li>
            {{ message(loremText) }}
        </li>
        <li>
            {{ message('Hello, This is a message component.', 'success') }}
        </li>
        <li>
            {{ message('Hello, This is a message component.', 'warning') }}
        </li>
        <li>
            {{ message('Hello, This is a message component.', 'info') }}
        </li>
        <li>
            {{ message('Hello, This is a message component.', 'error') }}
        </li>
    </ul>
</fieldset>


<fieldset>
    <legend>Messages(.toast)</legend>

    {{ toast('toast center', pos='center') }}
    {{ toast('toast left', pos='left') }}
    {{ toast('toast right', pos='right') }}

    <script>
        window.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.toast').forEach(t => {
                t.classList.add('show')
            })
        })
    </script>
</fieldset>


<fieldset>
    <legend>Dialog</legend>
    <div style="position: relative; min-height: 20em;">

        <dialog open>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad amet dolorum, eaque earum facere, illum inventore labore libero natus numquam optio perferendis quae quidem recusandae similique, tempore unde vitae voluptates.</p>
        </dialog>

    </div>
    <div style="position: relative; min-height: 20em;">
        <dialog open data-action="remove">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad amet dolorum, eaque earum facere, illum inventore labore libero natus numquam optio perferendis quae quidem recusandae similique, tempore unde vitae voluptates.</p>
            <p>
                <button class="btn">OK</button>
                <button class="btn">Cancel</button>
            </p>
            <ins data-trigger></ins>
        </dialog>
    </div>
    <div style="position: relative; min-height: 20em;">
        <dialog open data-action="remove">
            <header>Heading</header>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad amet dolorum, eaque earum facere, illum inventore labore libero natus numquam optio perferendis quae quidem recusandae similique, tempore unde vitae voluptates.</p>
            <p>
                <button class="btn outline">OK</button>
                <button class="btn outline">Cancel</button>
            </p>
            <ins data-trigger>Ã—</ins>
        </dialog>
    </div>
    <div style="position: relative; min-height: 20em;">
        <dialog open class="success" data-action="remove">
            <header>Heading</header>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad amet dolorum, eaque earum facere, illum inventore labore libero natus numquam optio perferendis quae quidem recusandae similique, tempore unde vitae voluptates.</p>
            <p class="tac">
                <button class="btn outline">OK</button>
                <button class="btn">Cancel</button>
                <button class="btn outline" data-trigger>Cancel</button>
                <input class="btn" type="button" value="input">
            </p>
            <footer>footer text</footer>
        </dialog>
    </div>
    <div style="position: relative; min-height: 20em;">
        <button class="btn" data-trigger="#dialog-click">click to toggle dialog</button>
        <dialog id="dialog-click" data-action="toggleAttr open">
            <header class="tac">
                <button class="btn outline">OK</button>
                <button class="btn" data-trigger>Cancel</button>
            </header>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad amet dolorum, eaque earum facere, illum inventore labore libero natus numquam optio perferendis quae quidem recusandae similique, tempore unde vitae voluptates.</p>
            <p class="tac">
                <button class="btn outline">OK</button>
                <button class="btn" data-trigger>Cancel</button>
                <button class="btn outline" data-trigger>Cancel</button>
                <input class="btn" type="button" value="input">
            </p>
            <ins data-trigger></ins>
        </dialog>
    </div>
</fieldset>


{% endblock body %}
